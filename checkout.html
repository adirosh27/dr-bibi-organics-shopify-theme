<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Dr. Bibi Organics</title>
    <link rel="icon" type="image/png" href="https://drbibiorganics.com/cdn/shop/files/Bibi_logo-Venmo_007d67d2-4cab-4b38-8401-9114d5c90045.png?height=32">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Jost:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        ivory: '#FFFEF9',
                        pearl: '#F5F3ED',
                        sage: '#E8EDE7',
                        mint: '#C8E5D3',
                        emerald: '#4A9B7F',
                        forest: '#2D5F4F',
                        gold: '#C8A882',
                        charcoal: '#1F1F1F',
                        slate: '#475569'
                    },
                    fontFamily: {
                        display: ['Playfair Display', 'serif'],
                        sans: ['Jost', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        /* Glowing red neon border for invalid fields */
        .field-error {
            border: 2px solid #ef4444 !important;
            box-shadow: 0 0 10px #ef4444, 0 0 20px #ef4444, 0 0 30px #ef4444 !important;
            animation: glow-pulse 1.5s ease-in-out infinite;
        }

        @keyframes glow-pulse {
            0%, 100% {
                box-shadow: 0 0 10px #ef4444, 0 0 20px #ef4444, 0 0 30px #ef4444;
            }
            50% {
                box-shadow: 0 0 15px #ef4444, 0 0 30px #ef4444, 0 0 45px #ef4444;
            }
        }

        .field-valid {
            border: 2px solid #10b981 !important;
            position: relative;
        }

        .field-valid::after {
            content: "‚úì";
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #10b981;
            font-weight: bold;
            font-size: 18px;
        }

        /* CTA Button pulse animation */
        @keyframes cta-pulse {
            0%, 100% {
                box-shadow: 0 4px 20px rgba(45, 95, 76, 0.4);
            }
            50% {
                box-shadow: 0 4px 30px rgba(45, 95, 76, 0.6);
            }
        }

        .cta-button {
            animation: cta-pulse 2s ease-in-out infinite;
        }
    </style>
</head>
<body class="font-sans bg-gradient-to-br from-ivory via-pearl to-sage/10 text-charcoal">
    <!-- Navigation -->
    <nav class="bg-ivory/95 backdrop-blur-lg fixed w-full z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <a href="index.html" class="flex items-center gap-3">
                    <img src="https://drbibiorganics.com/cdn/shop/files/Bibi_logo-Venmo_007d67d2-4cab-4b38-8401-9114d5c90045.png?height=40" alt="Dr. Bibi Organics Logo" class="h-10">
                    <h1 class="text-2xl lg:text-3xl font-display font-bold text-emerald">Dr. Bibi Organics</h1>
                </a>
                <div class="flex items-center gap-6">
                    <a href="product.html" class="text-charcoal hover:text-emerald transition-colors">Shop</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Checkout Container -->
    <div class="pt-32 pb-20 px-6">
        <div class="max-w-7xl mx-auto">
            <!-- Progress Indicator -->
            <div class="max-w-2xl mx-auto mb-12">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-emerald/20 rounded-full flex items-center justify-center">
                            <span class="text-emerald font-bold text-sm">‚úì</span>
                        </div>
                        <span class="text-sm font-semibold text-emerald">Cart</span>
                    </div>
                    <div class="flex-1 h-1 bg-emerald mx-4"></div>
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-emerald rounded-full flex items-center justify-center">
                            <span class="text-white font-bold text-sm">2</span>
                        </div>
                        <span class="text-sm font-semibold text-emerald">Checkout</span>
                    </div>
                    <div class="flex-1 h-1 bg-sage/30 mx-4"></div>
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-sage/30 rounded-full flex items-center justify-center">
                            <span class="text-slate font-bold text-sm">3</span>
                        </div>
                        <span class="text-sm font-medium text-slate/60">Confirmation</span>
                    </div>
                </div>
            </div>

            <!-- Header -->
            <div class="text-center mb-12">
                <h1 class="text-4xl lg:text-5xl font-display font-bold text-forest mb-4">Secure Checkout</h1>
                <p class="text-lg text-slate">Your information is protected with SSL encryption</p>
            </div>

            <!-- Trust Badges -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12 max-w-4xl mx-auto">
                <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-sm">
                    <div class="text-2xl mb-2">üîí</div>
                    <p class="text-xs font-semibold text-forest">Secure Payment</p>
                </div>
                <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-sm">
                    <div class="text-2xl mb-2">‚úì</div>
                    <p class="text-xs font-semibold text-forest">30-Day Guarantee</p>
                </div>
                <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-sm">
                    <div class="text-2xl mb-2">üöö</div>
                    <p class="text-xs font-semibold text-forest">Free Shipping</p>
                </div>
                <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-sm">
                    <div class="text-2xl mb-2">‚≠ê</div>
                    <p class="text-xs font-semibold text-forest">500+ Reviews</p>
                </div>
            </div>

            <!-- Main Checkout Grid -->
            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Left Column - Form -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- Contact Information -->
                    <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-lg">
                        <h2 class="text-2xl font-display font-bold text-forest mb-6">Contact Information</h2>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-forest mb-2">Email Address *</label>
                                <input type="email" id="email" required
                                    class="w-full px-4 py-3 rounded-xl border-2 border-sage/30 focus:border-emerald focus:outline-none transition"
                                    placeholder="you@example.com">
                            </div>
                        </div>
                    </div>

                    <!-- Shipping Address -->
                    <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-lg">
                        <h2 class="text-2xl font-display font-bold text-forest mb-6">Shipping Address</h2>
                        <div class="space-y-4">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-forest mb-2">First Name *</label>
                                    <input type="text" id="firstName" required
                                        class="w-full px-4 py-3 rounded-xl border-2 border-sage/30 focus:border-emerald focus:outline-none transition"
                                        placeholder="John">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-forest mb-2">Last Name *</label>
                                    <input type="text" id="lastName" required
                                        class="w-full px-4 py-3 rounded-xl border-2 border-sage/30 focus:border-emerald focus:outline-none transition"
                                        placeholder="Doe">
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-forest mb-2">Address *</label>
                                <input type="text" id="address" required
                                    class="w-full px-4 py-3 rounded-xl border-2 border-sage/30 focus:border-emerald focus:outline-none transition"
                                    placeholder="123 Main Street">
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-forest mb-2">Apartment, suite, etc. (optional)</label>
                                <input type="text" id="apartment"
                                    class="w-full px-4 py-3 rounded-xl border-2 border-sage/30 focus:border-emerald focus:outline-none transition"
                                    placeholder="Apt 4B">
                            </div>

                            <div class="grid md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-forest mb-2">City *</label>
                                    <input type="text" id="city" required
                                        class="w-full px-4 py-3 rounded-xl border-2 border-sage/30 focus:border-emerald focus:outline-none transition"
                                        placeholder="Boca Raton">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-forest mb-2">State *</label>
                                    <select id="state" required
                                        class="w-full px-4 py-3 rounded-xl border-2 border-sage/30 focus:border-emerald focus:outline-none transition">
                                        <option value="">Select State</option>
                                        <option value="FL">Florida</option>
                                        <option value="AL">Alabama</option>
                                        <option value="AK">Alaska</option>
                                        <option value="AZ">Arizona</option>
                                        <option value="AR">Arkansas</option>
                                        <option value="CA">California</option>
                                        <option value="CO">Colorado</option>
                                        <option value="CT">Connecticut</option>
                                        <!-- Add all states -->
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-forest mb-2">ZIP Code *</label>
                                    <input type="text" id="zipCode" required
                                        class="w-full px-4 py-3 rounded-xl border-2 border-sage/30 focus:border-emerald focus:outline-none transition"
                                        placeholder="33431">
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-forest mb-2">Phone *</label>
                                <input type="tel" id="phone" required
                                    class="w-full px-4 py-3 rounded-xl border-2 border-sage/30 focus:border-emerald focus:outline-none transition"
                                    placeholder="561-201-9109">
                            </div>
                        </div>
                    </div>

                    <!-- Optional: Add Another Jar -->
                    <div class="bg-sage/5 border border-sage/20 rounded-2xl p-6">
                        <div class="flex items-start gap-4">
                            <div class="flex-1">
                                <label class="flex items-start gap-3 cursor-pointer">
                                    <input type="checkbox" id="upsell1" class="mt-1 w-5 h-5 text-emerald rounded">
                                    <div>
                                        <span class="font-semibold text-forest">Add a second jar & save 15%</span>
                                        <p class="text-sm text-slate mt-1">Many customers buy multiple jars. Add another for $59.50 (save $10.50)</p>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Payment - Next Step Notice -->
                    <div class="bg-gradient-to-br from-emerald/10 to-mint/10 rounded-3xl p-8 shadow-lg border-2 border-emerald/20">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-emerald/20 rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                                </svg>
                            </div>
                            <h2 class="text-2xl font-display font-bold text-forest mb-3">Payment on Next Step</h2>
                            <p class="text-slate text-lg mb-4">After reviewing your order, you'll be securely redirected to enter your payment information.</p>

                            <!-- Payment Method Logos -->
                            <div class="pt-4 border-t border-emerald/20">
                                <p class="text-xs text-slate/70 text-center mb-3">Secure payment methods:</p>
                                <div class="flex items-center justify-center gap-2 flex-wrap">
                                    <div class="px-3 py-2 bg-white border border-sage/30 rounded-lg shadow-sm hover:shadow-md transition">
                                        <span class="text-xs font-bold" style="color: #1A1F71;">VISA</span>
                                    </div>
                                    <div class="px-3 py-2 bg-white border border-sage/30 rounded-lg shadow-sm hover:shadow-md transition">
                                        <span class="text-xs font-bold" style="color: #EB001B;">Mastercard</span>
                                    </div>
                                    <div class="px-3 py-2 bg-white border border-sage/30 rounded-lg shadow-sm hover:shadow-md transition">
                                        <span class="text-xs font-bold" style="color: #006FCF;">AMEX</span>
                                    </div>
                                    <div class="px-3 py-2 bg-white border border-sage/30 rounded-lg shadow-sm hover:shadow-md transition">
                                        <span class="text-xs font-bold" style="color: #FF6000;">Discover</span>
                                    </div>
                                    <div class="px-3 py-2 bg-black border border-black rounded-lg shadow-sm hover:shadow-md transition">
                                        <span class="text-xs font-bold text-white">Apple Pay</span>
                                    </div>
                                    <div class="px-3 py-2 bg-white border border-sage/30 rounded-lg shadow-sm hover:shadow-md transition">
                                        <span class="text-xs font-bold" style="color: #5F6368;">Google Pay</span>
                                    </div>
                                    <div class="px-3 py-2 bg-white border border-sage/30 rounded-lg shadow-sm hover:shadow-md transition">
                                        <span class="text-xs font-bold" style="color: #5469D4;">Shop Pay</span>
                                    </div>
                                </div>
                            </div>
                            <p class="text-xs text-slate/70 mt-4">
                                <svg class="w-4 h-4 inline text-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                                </svg>
                                256-bit SSL encryption & PCI compliant checkout
                            </p>
                        </div>
                    </div>

                </div>

                <!-- Right Column - Order Summary -->
                <div class="lg:col-span-1">
                    <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-lg sticky top-24">
                        <h2 class="text-2xl font-display font-bold text-forest mb-6">Order Summary</h2>

                        <!-- Product -->
                        <div class="flex gap-4 mb-6 pb-6 border-b border-sage/30">
                            <img src="https://drbibiorganics.com/cdn/shop/files/BibiButterproduct_002.jpg?v=1732747253&width=150"
                                alt="Butter Oasis Balm"
                                class="w-20 h-20 rounded-xl object-cover">
                            <div class="flex-1">
                                <h3 class="font-semibold text-forest mb-1">Butter Oasis Balm</h3>
                                <p class="text-sm text-slate mb-2">Qty: 1</p>
                                <p class="font-bold text-emerald">$70.00</p>
                            </div>
                        </div>

                        <!-- Upsell Item #1 (shown when checked) -->
                        <div id="upsellItem1" class="hidden flex gap-4 mb-6 pb-6 border-b border-sage/30">
                            <img src="https://drbibiorganics.com/cdn/shop/files/BibiButterproduct_002.jpg?v=1732747253&width=150"
                                alt="Butter Oasis Balm"
                                class="w-20 h-20 rounded-xl object-cover">
                            <div class="flex-1">
                                <h3 class="font-semibold text-forest mb-1">Butter Oasis Balm</h3>
                                <p class="text-sm text-slate mb-2">Qty: 1 <span class="text-emerald font-semibold">(15% off)</span></p>
                                <p class="font-bold text-emerald">$59.50</p>
                            </div>
                        </div>

                        <!-- Free Shipping Banner -->
                        <div class="bg-gradient-to-r from-emerald/20 to-mint/20 rounded-xl p-4 mb-6">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">üöö</span>
                                <div>
                                    <p class="font-bold text-forest">FREE SHIPPING!</p>
                                    <p class="text-xs text-slate">On all orders</p>
                                </div>
                            </div>
                        </div>

                        <!-- Pricing -->
                        <div class="space-y-3 mb-6">
                            <div class="flex justify-between text-slate">
                                <span>Subtotal</span>
                                <span id="subtotal">$70.00</span>
                            </div>
                            <div class="flex justify-between text-emerald font-semibold">
                                <span>Shipping</span>
                                <span>FREE</span>
                            </div>
                            <div class="flex justify-between text-slate">
                                <span>Tax</span>
                                <span id="tax">$5.25</span>
                            </div>
                            <div class="border-t-2 border-sage/30 pt-3 flex justify-between text-xl font-bold text-forest">
                                <span>Total</span>
                                <span id="total">$75.25</span>
                            </div>
                        </div>

                        <!-- Reassurance Before CTA -->
                        <div class="bg-emerald/5 rounded-xl p-4 mb-4 space-y-2">
                            <div class="flex items-center gap-2 text-sm">
                                <svg class="w-4 h-4 text-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                                </svg>
                                <span class="text-forest font-medium">256-bit SSL Secure Checkout</span>
                            </div>
                            <div class="flex items-center gap-2 text-sm">
                                <svg class="w-4 h-4 text-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                                </svg>
                                <span class="text-forest font-medium">30-Day Money Back Guarantee</span>
                            </div>
                            <p class="text-xs text-slate/70 mt-2">You won't be charged until you click Complete Order</p>
                        </div>

                        <!-- Complete Order Button -->
                        <button onclick="validateAndSubmit()" id="ctaButton"
                            class="w-full bg-gradient-to-r from-emerald to-forest text-white py-5 rounded-full font-bold text-xl hover:shadow-2xl hover:scale-105 transition-all duration-300 mb-4 cta-button">
                            <span id="ctaText">Complete My Order</span>
                            <span id="ctaTotal" class="block text-sm font-normal mt-1 opacity-90">Total: $75.25</span>
                        </button>

                        <!-- Payment Logos -->
                        <div class="flex items-center justify-center gap-2 mb-4 flex-wrap">
                            <div class="px-2 py-1 bg-white border border-sage/30 rounded shadow-sm">
                                <span class="text-xs font-bold" style="color: #1A1F71;">VISA</span>
                            </div>
                            <div class="px-2 py-1 bg-white border border-sage/30 rounded shadow-sm">
                                <span class="text-xs font-bold" style="color: #EB001B;">Mastercard</span>
                            </div>
                            <div class="px-2 py-1 bg-white border border-sage/30 rounded shadow-sm">
                                <span class="text-xs font-bold" style="color: #006FCF;">AMEX</span>
                            </div>
                            <div class="px-2 py-1 bg-white border border-sage/30 rounded shadow-sm">
                                <span class="text-xs font-bold" style="color: #FF6000;">Discover</span>
                            </div>
                            <div class="px-2 py-1 bg-black border border-black rounded shadow-sm">
                                <span class="text-xs font-bold text-white">Apple Pay</span>
                            </div>
                            <div class="px-2 py-1 bg-white border border-sage/30 rounded shadow-sm">
                                <span class="text-xs font-bold" style="color: #5F6368;">G Pay</span>
                            </div>
                        </div>

                        <!-- Why Customers Love Us -->
                        <div class="mt-6 pt-6 border-t border-sage/30">
                            <h3 class="font-semibold text-forest mb-3 text-sm">Why Customers Love Us:</h3>
                            <ul class="space-y-2 text-sm text-slate">
                                <li class="flex items-start gap-2">
                                    <span class="text-emerald mt-0.5">‚úì</span>
                                    <span>Clinical-grade natural ingredients</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-emerald mt-0.5">‚úì</span>
                                    <span>500+ 5-star reviews</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-emerald mt-0.5">‚úì</span>
                                    <span>Dermatologist recommended</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-emerald mt-0.5">‚úì</span>
                                    <span>Made with pure African shea butter</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-forest text-white/80 py-12 lg:py-16 mt-16">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-12 mb-12">
                <div class="md:col-span-2">
                    <h4 class="text-3xl font-display font-semibold text-white mb-4">Dr. Bibi Organics</h4>
                    <p class="text-base leading-relaxed mb-6 text-white/70 max-w-md">
                        Clinical-grade natural skincare crafted with pure African ingredients. Healing your skin, naturally.
                    </p>

                    <!-- Social Media Links -->
                    <div class="mt-6">
                        <h5 class="font-semibold text-white text-sm mb-3">Follow The Rogue Dermatologist</h5>
                        <div class="flex gap-4">
                            <a href="https://www.youtube.com/@theroguedermatologist" target="_blank" rel="noopener noreferrer"
                               class="w-10 h-10 bg-white/10 hover:bg-red-600 rounded-full flex items-center justify-center transition-all duration-300 group">
                                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                                </svg>
                            </a>
                            <a href="https://www.instagram.com/drbibiorganics" target="_blank" rel="noopener noreferrer"
                               class="w-10 h-10 bg-white/10 hover:bg-gradient-to-tr hover:from-yellow-400 hover:via-pink-500 hover:to-purple-600 rounded-full flex items-center justify-center transition-all duration-300 group">
                                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                                </svg>
                            </a>
                            <a href="https://www.facebook.com/drbibiorganics" target="_blank" rel="noopener noreferrer"
                               class="w-10 h-10 bg-white/10 hover:bg-blue-600 rounded-full flex items-center justify-center transition-all duration-300 group">
                                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <div>
                    <h5 class="font-semibold text-white text-lg mb-4">Quick Links</h5>
                    <ul class="space-y-3 text-base">
                        <li><a href="search.html" class="hover:text-gold transition">Search</a></li>
                        <li><a href="faqs.html" class="hover:text-gold transition">FAQs</a></li>
                        <li><a href="terms-of-service.html" class="hover:text-gold transition">Terms and Conditions</a></li>
                        <li><a href="privacy-policy.html" class="hover:text-gold transition">Privacy Policy</a></li>
                        <li><a href="return-policy.html" class="hover:text-gold transition">Refund Policy</a></li>
                        <li><a href="data-sharing-opt-out.html" class="hover:text-gold transition">Your Privacy Choices</a></li>
                    </ul>
                </div>

                <div>
                    <h5 class="font-semibold text-white text-lg mb-4">Support</h5>
                    <ul class="space-y-3 text-base">
                        <li><a href="contact.html" class="hover:text-gold transition">Contact Us</a></li>
                        <li><a href="tel:561-201-9109" class="hover:text-gold transition">561-201-9109</a></li>
                    </ul>
                </div>
            </div>

            <div class="border-t border-white/20 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                    <p class="text-sm text-white/60">&copy; 2024 Dr. Bibi Organics. All rights reserved.</p>
                    <p class="text-sm text-white/60">Boca Raton, Florida</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Update pricing when upsell is checked
        function updatePricing() {
            const upsell1Checked = document.getElementById('upsell1').checked;
            const upsellItem1 = document.getElementById('upsellItem1');
            const subtotalEl = document.getElementById('subtotal');
            const taxEl = document.getElementById('tax');
            const totalEl = document.getElementById('total');
            const ctaTotalEl = document.getElementById('ctaTotal');

            let subtotal = 70.00; // Base price

            // Show/hide upsell 1
            if (upsell1Checked) {
                upsellItem1.classList.remove('hidden');
                upsellItem1.classList.add('flex');
                subtotal += 59.50;
            } else {
                upsellItem1.classList.add('hidden');
                upsellItem1.classList.remove('flex');
            }

            // Calculate tax (7.5%)
            const tax = subtotal * 0.075;
            const total = subtotal + tax;

            // Update display
            subtotalEl.textContent = '$' + subtotal.toFixed(2);
            taxEl.textContent = '$' + tax.toFixed(2);
            totalEl.textContent = '$' + total.toFixed(2);
            ctaTotalEl.textContent = 'Total: $' + total.toFixed(2);
        }

        document.getElementById('upsell1').addEventListener('change', updatePricing);

        // Real-time validation with glowing borders
        const requiredFields = [
            'email', 'firstName', 'lastName', 'address',
            'city', 'state', 'zipCode', 'phone'
        ];

        // Add blur event listeners for validation
        requiredFields.forEach(fieldId => {
            const field = document.getElementById(fieldId);
            if (field) {
                field.addEventListener('blur', () => validateField(field));
                field.addEventListener('input', () => {
                    // Remove error when user starts typing
                    if (field.value.trim()) {
                        field.classList.remove('field-error');
                        field.classList.add('field-valid');
                    }
                });
            }
        });

        function validateField(field) {
            if (!field.value.trim() || (field.tagName === 'SELECT' && !field.value)) {
                field.classList.add('field-error');
                field.classList.remove('field-valid');
                return false;
            } else {
                field.classList.remove('field-error');
                field.classList.add('field-valid');
                return true;
            }
        }

        function validateAndSubmit() {
            let allValid = true;
            let firstInvalidField = null;

            // Validate all required fields
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    const isValid = validateField(field);
                    if (!isValid) {
                        allValid = false;
                        if (!firstInvalidField) {
                            firstInvalidField = field;
                        }
                    }
                }
            });

            if (!allValid) {
                // Scroll to first invalid field
                if (firstInvalidField) {
                    firstInvalidField.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    firstInvalidField.focus();
                }

                // Show error message
                alert('Please fill in all required fields (marked with glowing red borders)');
                return false;
            }

            // If all valid, collect customer info and redirect to Shopify checkout
            // Get form data
            const email = document.getElementById('email').value;
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const address = document.getElementById('address').value;
            const apartment = document.getElementById('apartment').value;
            const city = document.getElementById('city').value;
            const state = document.getElementById('state').value;
            const zipCode = document.getElementById('zipCode').value;
            const phone = document.getElementById('phone').value;

            // Get cart data
            const cart = JSON.parse(localStorage.getItem('drBibiCart') || '[]');
            const SHOPIFY_DOMAIN = 'https://drbibiorganics.com';
            const SHOPIFY_VARIANT_ID = '50253534298387';

            // Calculate quantity
            let totalQuantity = 1;
            if (cart.length > 0) {
                totalQuantity = cart.reduce((sum, item) => sum + item.quantity, 0);
            }

            // Add upsell if checked
            const upsell1 = document.getElementById('upsell1').checked;
            if (upsell1) {
                totalQuantity += 1;
            }

            // Build Shopify checkout URL with pre-filled customer information
            const checkoutParams = new URLSearchParams({
                'checkout[email]': email,
                'checkout[shipping_address][first_name]': firstName,
                'checkout[shipping_address][last_name]': lastName,
                'checkout[shipping_address][address1]': address,
                'checkout[shipping_address][address2]': apartment,
                'checkout[shipping_address][city]': city,
                'checkout[shipping_address][province]': state,
                'checkout[shipping_address][zip]': zipCode,
                'checkout[shipping_address][country]': 'United States',
                'checkout[shipping_address][phone]': phone
            });

            // Redirect to Shopify checkout with pre-filled customer info
            const checkoutUrl = `${SHOPIFY_DOMAIN}/cart/${SHOPIFY_VARIANT_ID}:${totalQuantity}?${checkoutParams.toString()}`;

            // Show loading message
            const completeOrderBtn = document.getElementById('ctaButton');
            completeOrderBtn.innerHTML = '<span class="inline-block animate-pulse">Processing...</span>';
            completeOrderBtn.disabled = true;

            // Redirect to Shopify
            window.location.href = checkoutUrl;
        }

    </script>

    <!-- Tawk.to Live Chat Widget -->
    <!-- To activate: Sign up FREE at https://www.tawk.to and replace YOUR_PROPERTY_ID below -->
    <script type="text/javascript">
        var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
        (function(){
            var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
            s1.async=true;
            s1.src='https://embed.tawk.to/YOUR_PROPERTY_ID/default';
            s1.charset='UTF-8';
            s1.setAttribute('crossorigin','*');
            s0.parentNode.insertBefore(s1,s0);
        })();

        // Customize chat widget appearance to match brand
        Tawk_API.onLoad = function(){
            Tawk_API.setAttributes({
                'name'  : 'Dr. Bibi Organics Support',
                'email' : 'support@drbibiorganics.com'
            }, function(error){});

            // Brand colors for chat widget
            Tawk_API.customStyle = {
                visibility : {
                    desktop : {
                        position : 'br', // bottom-right
                        xOffset : 20,
                        yOffset : 20
                    },
                    mobile : {
                        position : 'br',
                        xOffset : 10,
                        yOffset : 10
                    }
                }
            };
        };
    </script>

</body>
</html>
